(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{356:function(s,e,a){"use strict";a.r(e);var t=a(42),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"inject-some-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inject-some-data"}},[s._v("#")]),s._v(" Inject some data")]),s._v(" "),a("p",[s._v("Let's inject data into our cluster by using Apache Kafka Producer & Consumer.")]),s._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"https://kafka.apache.org/images/producer_consumer.png",alt:"Kafka Clients"}})]),s._v(" "),a("h2",{attrs:{id:"producing-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#producing-messages"}},[s._v("#")]),s._v(" Producing messages")]),s._v(" "),a("p",[s._v("Using the tool "),a("code",[s._v("kafka-producer-perf-test")]),s._v(", it's possible to inject messages into the cluster.")]),s._v(" "),a("p",[s._v("First of all, open a new terminal and connect to the Kafka broker 1:")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker-compose -f kafka-cluster.yml "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" kafka-1 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),a("p",[s._v("Then, use this commands to inject messages:")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" KAFKA_JMX_OPTS\nkafka-producer-perf-test --topic my-topic --num-records "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10800")]),s._v(" --record-size "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" --throughput "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" --producer-props bootstrap.servers"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kafka-1:9092\n")])])]),a("p",[s._v("Here, this command sent 10800 messages with approximately throughout of one message per second.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("You can use this tool to verify the producer performance.\nYou can specify "),a("code",[s._v("--producer.config")]),s._v(" or "),a("code",[s._v("--producer-props")]),s._v(" to play with the producer configuration.")])]),s._v(" "),a("h2",{attrs:{id:"consuming-messages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consuming-messages"}},[s._v("#")]),s._v(" Consuming messages")]),s._v(" "),a("p",[s._v("Open a new terminal and connect to the Kafka broker 1:")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("docker-compose -f kafka-cluster.yml "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" kafka-1 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),a("p",[s._v("Create a console consumer using this command:")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" KAFKA_JMX_OPTS\nkafka-console-consumer --topic my-topic --bootstrap-server kafka-1:9092 --from-beginning\n")])])]),a("p",[s._v("You should see previously produced messages in the console.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("The script "),a("code",[s._v("kafka-consumer-perf-test")]),s._v(" can be used to verify consumer performance.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);